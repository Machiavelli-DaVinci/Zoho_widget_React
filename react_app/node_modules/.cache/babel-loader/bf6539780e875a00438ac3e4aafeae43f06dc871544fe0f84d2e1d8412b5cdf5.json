{"ast":null,"code":"export async function Plants() {\n  let accessToken = \"\";\n  const handleScriptLoad = async () => {\n    console.log(\"hero\");\n    // await window.ZOHO.CREATOR.init().then(function(data) {\n\n    //  // var queryParams = window.ZOHO.CREATOR.UTIL.getQueryParams();\n    //  const email=\"rapaka.chandrashekar@gmail.com\";//Stage == \\\"Open\\\"\n    //    var config = {\n    //     appName: \"infinite-control-room\",\n    //     reportName: \"All_Users\",\n    //     criteria: \"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",\n    //     page: \"1\",\n    //     pageSize: \"100\"\n    //   }\n\n    //   //get all records API\n    //   window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\n    //     //callback block\n    //     let userData = response;\n\n    //     accessToken=JSON.stringify(userData.data[0].Access_Token);\n    //     console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\n    //    // console.log(\"check\"+accessToken);\n    //    // return accessToken;\n    //   });\n\n    // });\n  };\n\n  await handleScriptLoad();\n  try {\n    const loginResponse = await window.ZOHO.CREATOR.init().then(function (data) {\n      // var queryParams = window.ZOHO.CREATOR.UTIL.getQueryParams();\n      var config = {\n        appName: \"infinite-control-room\",\n        reportName: \"All_Users\",\n        criteria: \"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",\n        page: \"1\",\n        pageSize: \"100\"\n      };\n      const access = window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\n        let userData = response;\n        accessToken = JSON.stringify(userData.data[0].Access_Token);\n        console.log(\"userData\" + JSON.stringify(userData.data[0].Access_Token));\n        // console.log(\"check\"+accessToken);\n        // return accessToken;\n      });\n    });\n\n    const loginData = await loginResponse.json();\n    console.log(\"loginData\" + loginData);\n    // accessToken = loginData.data.accessToken;\n    accessToken = \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyY0NxRnpxRXJrNU5GS1RjTi1YSk1IdE9NS2tWVTZXS1hIdHZFMF8xZE5ZIn0.eyJleHAiOjE2ODY5NTQ5OTEsImlhdCI6MTY4NjkxMTc5MSwianRpIjoiNDU0MGQ1MTctNjE1ZS00NDZmLTgxOTgtNTc1YzY1ZjUwZmM3IiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmZpbml0ZS11cHRpbWUuY29tL3JlYWxtcy9pZGFwIiwic3ViIjoiZjo2MGNhNzY4Yy1iMTA0LTQ0OTktYjU4Yy05MzliOTdlNzAzM2Q6ODcxMSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImlkYXAiLCJzZXNzaW9uX3N0YXRlIjoiNGQ0YjUzMDAtM2NlZC00ZTk5LTlmNDEtYmRjMDI0ZjJkMzhlIiwic2NvcGUiOiJlbWFpbCIsInNpZCI6IjRkNGI1MzAwLTNjZWQtNGU5OS05ZjQxLWJkYzAyNGYyZDM4ZSIsImlzX2FkbWluIjoiZmFsc2UiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlkYXBfcm9sZSI6IlJPTEVfVVNFUiIsImVtYWlsIjoiUmFwYWthLmNoYW5kcmFzaGVrYXJAZ21haWwuY29tIn0.l8NL7t1Kqf77hOHo_kGSpcKzDoSjFFYmKdyn3y6-fC45B_ICvvYz_FLMfazPMOxVzMG0nb0nD88y_J45wFYTjLnfwbZbIzw--vbVKt1EMe4qK6ko4wv1jTRrjg97m7PaQL3FLcv1JSPafJ8ukPm1z4BPo0tpoHlbZX1vCGwm1ZgdJqTBM6bJrtrLyB1EcABWsXIbd7r_756vua7sOO_7ZkAppAiHTV3qqjM5N0cjHaKTkMXYAiVkl6kBpsZf7N8CCdwkZTKV3rapK_zQGJhS2VxSNkeiERF2Y16nyPxSjxyzQFBB6I0AB2xqSSWlhJ6Shk2yaaI1MB9_cdt8oOgJPg\";\n    //console.log(loginData);\n    //console.log(\"accessToken\"+accessToken);\n    console.log(\"check\" + accessToken);\n    const plantsResponse = await fetch('https://api-idap.infinite-uptime.com/api/3.0/idap-api/plants/1868/machine-group-stats', {\n      method: 'GET',\n      headers: {\n        'accept': 'application/json',\n        'Authorization': 'Bearer ' + accessToken\n      }\n    });\n    //console.log(\"check\"+ headers);\n    const plantsData = await plantsResponse.json();\n    console.log(\"plantsdata\", plantsData);\n    return plantsData.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n_c = Plants;\nvar _c;\n$RefreshReg$(_c, \"Plants\");","map":{"version":3,"names":["Plants","accessToken","handleScriptLoad","console","log","loginResponse","window","ZOHO","CREATOR","init","then","data","config","appName","reportName","criteria","page","pageSize","access","API","getAllRecords","response","userData","JSON","stringify","Access_Token","loginData","json","plantsResponse","fetch","method","headers","plantsData","error","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Services/Json.js"],"sourcesContent":["\r\nexport async function Plants() {\r\n  let accessToken=\"\";\r\n  const handleScriptLoad = async() => {\r\n    \r\n    console.log(\"hero\")\r\n    // await window.ZOHO.CREATOR.init().then(function(data) {\r\n      \r\n    //  // var queryParams = window.ZOHO.CREATOR.UTIL.getQueryParams();\r\n    //  const email=\"rapaka.chandrashekar@gmail.com\";//Stage == \\\"Open\\\"\r\n    //    var config = {\r\n    //     appName: \"infinite-control-room\",\r\n    //     reportName: \"All_Users\",\r\n    //     criteria: \"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",\r\n    //     page: \"1\",\r\n    //     pageSize: \"100\"\r\n    //   }\r\n  \r\n    //   //get all records API\r\n    //   window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\r\n    //     //callback block\r\n    //     let userData = response;\r\n        \r\n    //     accessToken=JSON.stringify(userData.data[0].Access_Token);\r\n    //     console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\r\n    //    // console.log(\"check\"+accessToken);\r\n    //    // return accessToken;\r\n    //   });\r\n      \r\n      \r\n    // });\r\n   \r\n   \r\n  };\r\n await handleScriptLoad();\r\n  \r\n  \r\n    try {\r\n      const loginResponse =  await window.ZOHO.CREATOR.init().then(function(data) {\r\n      \r\n     // var queryParams = window.ZOHO.CREATOR.UTIL.getQueryParams();\r\n       var config = {\r\n        appName: \"infinite-control-room\",\r\n        reportName: \"All_Users\",\r\n        criteria: \"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",\r\n        page: \"1\",\r\n        pageSize: \"100\"\r\n      }\r\n      const access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\r\n        let userData = response;\r\n        \r\n        accessToken=JSON.stringify(userData.data[0].Access_Token);\r\n        console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\r\n       // console.log(\"check\"+accessToken);\r\n       // return accessToken;\r\n      \r\n      });\r\n      \r\n      \r\n    });\r\n      \r\n  \r\n      const loginData = await loginResponse.json();\r\n      console.log(\"loginData\"+loginData);\r\n     // accessToken = loginData.data.accessToken;\r\n     accessToken=\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyY0NxRnpxRXJrNU5GS1RjTi1YSk1IdE9NS2tWVTZXS1hIdHZFMF8xZE5ZIn0.eyJleHAiOjE2ODY5NTQ5OTEsImlhdCI6MTY4NjkxMTc5MSwianRpIjoiNDU0MGQ1MTctNjE1ZS00NDZmLTgxOTgtNTc1YzY1ZjUwZmM3IiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmZpbml0ZS11cHRpbWUuY29tL3JlYWxtcy9pZGFwIiwic3ViIjoiZjo2MGNhNzY4Yy1iMTA0LTQ0OTktYjU4Yy05MzliOTdlNzAzM2Q6ODcxMSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImlkYXAiLCJzZXNzaW9uX3N0YXRlIjoiNGQ0YjUzMDAtM2NlZC00ZTk5LTlmNDEtYmRjMDI0ZjJkMzhlIiwic2NvcGUiOiJlbWFpbCIsInNpZCI6IjRkNGI1MzAwLTNjZWQtNGU5OS05ZjQxLWJkYzAyNGYyZDM4ZSIsImlzX2FkbWluIjoiZmFsc2UiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlkYXBfcm9sZSI6IlJPTEVfVVNFUiIsImVtYWlsIjoiUmFwYWthLmNoYW5kcmFzaGVrYXJAZ21haWwuY29tIn0.l8NL7t1Kqf77hOHo_kGSpcKzDoSjFFYmKdyn3y6-fC45B_ICvvYz_FLMfazPMOxVzMG0nb0nD88y_J45wFYTjLnfwbZbIzw--vbVKt1EMe4qK6ko4wv1jTRrjg97m7PaQL3FLcv1JSPafJ8ukPm1z4BPo0tpoHlbZX1vCGwm1ZgdJqTBM6bJrtrLyB1EcABWsXIbd7r_756vua7sOO_7ZkAppAiHTV3qqjM5N0cjHaKTkMXYAiVkl6kBpsZf7N8CCdwkZTKV3rapK_zQGJhS2VxSNkeiERF2Y16nyPxSjxyzQFBB6I0AB2xqSSWlhJ6Shk2yaaI1MB9_cdt8oOgJPg\";\r\n       //console.log(loginData);\r\n      //console.log(\"accessToken\"+accessToken);\r\n      console.log(\"check\"+ accessToken);\r\n      const plantsResponse = await fetch('https://api-idap.infinite-uptime.com/api/3.0/idap-api/plants/1868/machine-group-stats', {\r\n        method: 'GET',\r\n        headers: {\r\n          'accept': 'application/json',\r\n          'Authorization': 'Bearer ' + accessToken,\r\n        },\r\n      });\r\n      //console.log(\"check\"+ headers);\r\n      const plantsData = await plantsResponse.json();\r\n       console.log(\"plantsdata\",  plantsData);\r\n  \r\n      return plantsData.data;\r\n    } catch (error) {\r\n      console.error(error);\r\n      throw error;\r\n    }\r\n  }\r\n  "],"mappings":"AACA,OAAO,eAAeA,MAAMA,CAAA,EAAG;EAC7B,IAAIC,WAAW,GAAC,EAAE;EAClB,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAW;IAElCC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;;IAGA;EAGF,CAAC;;EACF,MAAMF,gBAAgB,CAAC,CAAC;EAGrB,IAAI;IACF,MAAMG,aAAa,GAAI,MAAMC,MAAM,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,UAASC,IAAI,EAAE;MAE7E;MACE,IAAIC,MAAM,GAAG;QACZC,OAAO,EAAE,uBAAuB;QAChCC,UAAU,EAAE,WAAW;QACvBC,QAAQ,EAAE,+CAA+C;QACzDC,IAAI,EAAE,GAAG;QACTC,QAAQ,EAAE;MACZ,CAAC;MACD,MAAMC,MAAM,GAACZ,MAAM,CAACC,IAAI,CAACC,OAAO,CAACW,GAAG,CAACC,aAAa,CAACR,MAAM,CAAC,CAACF,IAAI,CAAC,UAAUW,QAAQ,EAAE;QAClF,IAAIC,QAAQ,GAAGD,QAAQ;QAEvBpB,WAAW,GAACsB,IAAI,CAACC,SAAS,CAACF,QAAQ,CAACX,IAAI,CAAC,CAAC,CAAC,CAACc,YAAY,CAAC;QACzDtB,OAAO,CAACC,GAAG,CAAC,UAAU,GAACmB,IAAI,CAACC,SAAS,CAACF,QAAQ,CAACX,IAAI,CAAC,CAAC,CAAC,CAACc,YAAY,CAAC,CAAC;QACtE;QACA;MAED,CAAC,CAAC;IAGJ,CAAC,CAAC;;IAGA,MAAMC,SAAS,GAAG,MAAMrB,aAAa,CAACsB,IAAI,CAAC,CAAC;IAC5CxB,OAAO,CAACC,GAAG,CAAC,WAAW,GAACsB,SAAS,CAAC;IACnC;IACAzB,WAAW,GAAC,ohCAAohC;IAC9hC;IACD;IACAE,OAAO,CAACC,GAAG,CAAC,OAAO,GAAEH,WAAW,CAAC;IACjC,MAAM2B,cAAc,GAAG,MAAMC,KAAK,CAAC,uFAAuF,EAAE;MAC1HC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,eAAe,EAAE,SAAS,GAAG9B;MAC/B;IACF,CAAC,CAAC;IACF;IACA,MAAM+B,UAAU,GAAG,MAAMJ,cAAc,CAACD,IAAI,CAAC,CAAC;IAC7CxB,OAAO,CAACC,GAAG,CAAC,YAAY,EAAG4B,UAAU,CAAC;IAEvC,OAAOA,UAAU,CAACrB,IAAI;EACxB,CAAC,CAAC,OAAOsB,KAAK,EAAE;IACd9B,OAAO,CAAC8B,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACb;AACF;AAACC,EAAA,GApFmBlC,MAAM;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}