{"ast":null,"code":"export async function Plants() {\n  let accessToken = \"\";\n  const handleScriptLoad = async () => {\n    console.log(\"hero\");\n    const data = await window.ZOHO.CREATOR.init();\n    const config = {\n      appName: \"infinite-control-room\",\n      reportName: \"All_Users\",\n      criteria: 'Username == \"rapaka.chandrashekar@gmail.com\"',\n      page: \"1\",\n      pageSize: \"100\"\n    };\n    return new Promise((resolve, reject) => {\n      window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\n        let userData = response;\n        accessToken = JSON.stringify(userData.data[0].Access_Token);\n        console.log(\"userData\" + JSON.stringify(userData.data[0].Access_Token));\n        resolve(accessToken);\n      }).catch(reject);\n    });\n  };\n  accessToken = await handleScriptLoad();\n  try {\n    console.log(\"check\" + accessToken);\n    const plantsResponse = await fetch(\"https://api-idap.infinite-uptime.com/api/3.0/idap-api/plants/1868/machine-group-stats\", {\n      method: \"GET\",\n      headers: {\n        accept: \"application/json\",\n        Authorization: 'Bearer ' + JSON.stringify(accessToken)\n      }\n    });\n    const plantsData = await plantsResponse.json();\n    console.log(\"plantsdata\", plantsData);\n    return plantsData.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n_c = Plants;\nvar _c;\n$RefreshReg$(_c, \"Plants\");","map":{"version":3,"names":["Plants","accessToken","handleScriptLoad","console","log","data","window","ZOHO","CREATOR","init","config","appName","reportName","criteria","page","pageSize","Promise","resolve","reject","API","getAllRecords","then","response","userData","JSON","stringify","Access_Token","catch","plantsResponse","fetch","method","headers","accept","Authorization","plantsData","json","error","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Services/Json.js"],"sourcesContent":["export async function Plants() {\r\n  let accessToken = \"\";\r\n\r\n  const handleScriptLoad = async () => {\r\n    console.log(\"hero\");\r\n\r\n    const data = await window.ZOHO.CREATOR.init();\r\n    const config = {\r\n      appName: \"infinite-control-room\",\r\n      reportName: \"All_Users\",\r\n      criteria: 'Username == \"rapaka.chandrashekar@gmail.com\"',\r\n      page: \"1\",\r\n      pageSize: \"100\",\r\n    };\r\n\r\n    return new Promise((resolve, reject) => {\r\n      window.ZOHO.CREATOR.API.getAllRecords(config)\r\n        .then(function (response) {\r\n          let userData = response;\r\n          accessToken = JSON.stringify(userData.data[0].Access_Token);\r\n          console.log(\"userData\" + JSON.stringify(userData.data[0].Access_Token));\r\n          resolve(accessToken);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  accessToken = await handleScriptLoad();\r\n\r\n  try {\r\n    console.log(\"check\" + accessToken);\r\n    const plantsResponse = await fetch(\r\n      \"https://api-idap.infinite-uptime.com/api/3.0/idap-api/plants/1868/machine-group-stats\",\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          Authorization: 'Bearer ' + JSON.stringify(accessToken),\r\n        },\r\n      }\r\n    );\r\n\r\n    const plantsData = await plantsResponse.json();\r\n    console.log(\"plantsdata\", plantsData);\r\n\r\n    return plantsData.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,eAAeA,MAAMA,CAAA,EAAG;EAC7B,IAAIC,WAAW,GAAG,EAAE;EAEpB,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnCC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IAEnB,MAAMC,IAAI,GAAG,MAAMC,MAAM,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC;IAC7C,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE,uBAAuB;MAChCC,UAAU,EAAE,WAAW;MACvBC,QAAQ,EAAE,8CAA8C;MACxDC,IAAI,EAAE,GAAG;MACTC,QAAQ,EAAE;IACZ,CAAC;IAED,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCZ,MAAM,CAACC,IAAI,CAACC,OAAO,CAACW,GAAG,CAACC,aAAa,CAACV,MAAM,CAAC,CAC1CW,IAAI,CAAC,UAAUC,QAAQ,EAAE;QACxB,IAAIC,QAAQ,GAAGD,QAAQ;QACvBrB,WAAW,GAAGuB,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAClB,IAAI,CAAC,CAAC,CAAC,CAACqB,YAAY,CAAC;QAC3DvB,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGoB,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAClB,IAAI,CAAC,CAAC,CAAC,CAACqB,YAAY,CAAC,CAAC;QACvET,OAAO,CAAChB,WAAW,CAAC;MACtB,CAAC,CAAC,CACD0B,KAAK,CAACT,MAAM,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC;EAEDjB,WAAW,GAAG,MAAMC,gBAAgB,CAAC,CAAC;EAEtC,IAAI;IACFC,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGH,WAAW,CAAC;IAClC,MAAM2B,cAAc,GAAG,MAAMC,KAAK,CAChC,uFAAuF,EACvF;MACEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACPC,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE,SAAS,GAAGT,IAAI,CAACC,SAAS,CAACxB,WAAW;MACvD;IACF,CACF,CAAC;IAED,MAAMiC,UAAU,GAAG,MAAMN,cAAc,CAACO,IAAI,CAAC,CAAC;IAC9ChC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE8B,UAAU,CAAC;IAErC,OAAOA,UAAU,CAAC7B,IAAI;EACxB,CAAC,CAAC,OAAO+B,KAAK,EAAE;IACdjC,OAAO,CAACiC,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACb;AACF;AAACC,EAAA,GAlDqBrC,MAAM;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}